# 1A2B 猜數字遊戲 - 產品需求書（PRD）

## 文件資訊

| 項目 | 內容 |
|------|------|
| 產品名稱 | 1A2B 猜數字遊戲 CLI |
| 版本 | 1.0.0 |
| 文件類型 | Product Requirements Document (PRD) |
| 最後更新日期 | 2025-11-27 |
| 產品負責人 | 1A2B Development Team |
| 文件狀態 | ✅ 已核准 |

---

## 1. 產品概述

### 1.1 產品願景

打造一款簡潔、流暢、富有挑戰性的命令列猜數字遊戲，讓玩家在終端機環境中也能享受到精緻的遊戲體驗。

### 1.2 產品定位

- **類型**：休閒益智遊戲
- **平台**：命令列介面（CLI）
- **目標市場**：喜歡邏輯推理的開發者與終端機用戶
- **核心價值**：簡單易懂、邏輯思考、即時回饋

### 1.3 什麼是 1A2B？

1A2B（Bulls and Cows）是一款經典的邏輯推理遊戲：
- 電腦隨機產生一個 4 位數字的答案（數字不重複）
- 玩家透過猜測並根據回饋逐步推理出答案
- **A** 表示「數字和位置都正確」的數量
- **B** 表示「數字正確但位置錯誤」的數量
- 目標是在 10 次機會內猜中答案

---

## 2. 目標用戶

### 2.1 主要用戶群

| 用戶類型 | 特徵 | 佔比 |
|---------|------|------|
| **開發者** | 熟悉終端機環境，喜歡邏輯遊戲 | 50% |
| **學生** | 學習程式設計，想要休閒娛樂 | 30% |
| **遊戲愛好者** | 喜歡數字推理類益智遊戲 | 20% |

### 2.2 用戶畫像

#### 畫像 1：阿傑（後端工程師）
- **年齡**：28 歲
- **工作環境**：整天在終端機工作
- **需求**：想在工作間隙快速玩個小遊戲放鬆
- **痛點**：不想切換視窗，希望在終端機內直接遊玩

#### 畫像 2：小美（資訊系學生）
- **年齡**：21 歲
- **學習階段**：剛學習 Python
- **需求**：想要簡單的遊戲程式作為學習範例
- **痛點**：複雜的 GUI 遊戲不易理解原理

---

## 3. 產品目標

### 3.1 商業目標

1. **提升終端機遊戲體驗**：證明命令列也能有優質的遊戲體驗
2. **建立產品品牌**：成為 CLI 遊戲的標竿範例
3. **開源社群貢獻**：提供高品質的開源專案給學習者參考

### 3.2 用戶目標

1. **娛樂放鬆**：在工作或學習間隙享受短暫休閒
2. **邏輯訓練**：鍛鍊推理與演繹能力
3. **學習範例**：理解遊戲程式設計的基本概念

### 3.3 產品成功指標

| 指標 | 目標值 | 衡量方式 |
|------|--------|----------|
| 用戶滿意度 | ≥ 4.5/5.0 | 用戶回饋調查 |
| 平均遊戲時長 | 5-10 分鐘/局 | 使用日誌分析 |
| 重玩率 | ≥ 60% | 完成一局後選擇重玩的比例 |
| GitHub Stars | ≥ 100 顆星 | 6 個月內達成 |

---

## 4. 功能需求

### 4.1 核心功能（Must Have）

#### 功能 1：遊戲核心機制
- **需求描述**：實現完整的 1A2B 遊戲邏輯
- **用戶價值**：提供標準的遊戲體驗
- **驗收標準**：
  - ✓ 正確產生 4 位不重複數字
  - ✓ 準確計算 A 和 B 的數量
  - ✓ 最多允許 10 次猜測

#### 功能 2：輸入驗證
- **需求描述**：確保用戶輸入符合遊戲規則
- **用戶價值**：避免無效輸入，提供即時回饋
- **驗收標準**：
  - ✓ 必須是 4 位數字
  - ✓ 不可包含非數字字元
  - ✓ 數字不可重複
  - ✓ 顯示清楚的錯誤訊息

#### 功能 3：視覺回饋
- **需求描述**：使用顏色區分不同類型的資訊
- **用戶價值**：提升可讀性，快速識別結果
- **驗收標準**：
  - ✓ A 使用綠色（成功）
  - ✓ B 使用黃色（部分正確）
  - ✓ 錯誤訊息使用紅色
  - ✓ 提示訊息使用青色

#### 功能 4：遊戲狀態管理
- **需求描述**：追蹤遊戲進度與結果
- **用戶價值**：了解當前狀態與剩餘機會
- **驗收標準**：
  - ✓ 顯示當前猜測次數
  - ✓ 記錄每次猜測與結果
  - ✓ 正確判斷勝負條件

#### 功能 5：重玩機制
- **需求描述**：遊戲結束後可選擇重新開始
- **用戶價值**：無需重啟程式即可再玩一局
- **驗收標準**：
  - ✓ 提供重玩選項（Y/N）
  - ✓ 重新產生新的答案
  - ✓ 重置猜測次數

### 4.2 進階功能（Should Have）

#### 功能 6：中斷處理
- **需求描述**：妥善處理用戶中斷操作
- **用戶價值**：優雅退出，不造成程式崩潰
- **優先級**：高

#### 功能 7：動態顯示優化
- **需求描述**：使用終端機控制碼優化顯示
- **用戶價值**：減少畫面混亂，提升體驗
- **優先級**：中

### 4.3 未來功能（Nice to Have）

| 功能 | 描述 | 優先級 | 預計版本 |
|------|------|--------|----------|
| 難度選擇 | 支援 3-6 位數字的不同難度 | P1 | v2.0 |
| 遊戲統計 | 記錄勝率、平均猜測次數等 | P1 | v2.0 |
| 提示系統 | 提供線索但消耗猜測次數 | P2 | v2.1 |
| 雙人模式 | 支援兩人對戰 | P2 | v3.0 |
| 排行榜 | 記錄最佳成績 | P3 | v3.0 |

---

## 5. 用戶體驗設計

### 5.1 遊戲流程

```
啟動遊戲
    │
    ▼
顯示歡迎畫面
    │
    ▼
說明遊戲規則
    │
    ▼
┌──────────────┐
│ 開始猜測循環 │
│ (最多 10 次)  │
└───┬──────────┘
    │
    ├─► 輸入猜測
    ├─► 驗證輸入（若錯誤則重新輸入）
    ├─► 顯示結果
    │
    ▼
猜對或用完機會？
    │
    ├─► Yes: 顯示結果（勝利/失敗）
    │         │
    │         ▼
    │     詢問是否重玩
    │         │
    │         ├─► Yes: 回到「開始猜測循環」
    │         └─► No:  顯示感謝訊息，結束
    │
    └─► No: 繼續猜測
```

### 5.2 介面設計原則

1. **簡潔明瞭**：資訊呈現清晰，避免冗餘
2. **即時回饋**：每次操作立即給予反應
3. **錯誤友善**：錯誤訊息明確，指引用戶正確操作
4. **視覺層次**：使用顏色和格式區分資訊重要性

### 5.3 關鍵使用者旅程

#### 旅程 1：首次遊玩
1. 啟動遊戲 → 閱讀規則 → 嘗試猜測
2. 因不熟悉規則而輸入錯誤 → 看到清楚的錯誤提示
3. 重新輸入正確格式 → 看到結果回饋
4. 根據 A、B 提示進行推理 → 持續猜測
5. 最終猜對或失敗 → 選擇重玩

#### 旅程 2：熟練玩家
1. 快速跳過規則說明
2. 使用策略性猜測（如二分法）
3. 在 5-7 次內猜中答案
4. 連續進行多局遊戲

---

## 6. 非功能性需求

### 6.1 效能需求

| 指標 | 目標 | 理由 |
|------|------|------|
| 啟動時間 | < 0.5 秒 | 快速進入遊戲 |
| 回應時間 | < 0.1 秒 | 即時回饋 |
| 記憶體使用 | < 10 MB | 輕量級應用 |
| CPU 使用率 | < 5% | 避免影響其他工作 |

### 6.2 相容性需求

| 作業系統 | 最低版本 | 狀態 |
|---------|---------|------|
| Windows | 10 | ✅ 支援 |
| macOS | 10.15 | ✅ 支援 |
| Linux | Ubuntu 20.04+ | ✅ 支援 |

| 終端機 | 支援狀態 |
|--------|----------|
| Windows Terminal | ✅ 推薦 |
| PowerShell | ✅ 支援 |
| macOS Terminal | ✅ 支援 |
| iTerm2 | ✅ 支援 |
| Linux 終端機 | ✅ 支援 |

### 6.3 可用性需求

1. **學習曲線**：新用戶應能在 2 分鐘內理解規則
2. **錯誤恢復**：任何錯誤輸入都能快速重新嘗試
3. **可中斷性**：可隨時中斷遊戲而不損失體驗

### 6.4 可維護性需求

1. **程式碼品質**：遵循 PEP 8 規範
2. **函式設計**：單一職責，易於測試
3. **文件完整性**：每個函式都有清楚的說明

---

## 7. 技術限制與約束

### 7.1 技術約束

| 項目 | 約束 | 理由 |
|------|------|------|
| Python 版本 | ≥ 3.13 | 使用最新語言特性 |
| 外部依賴 | 零依賴 | 保持輕量，易於部署 |
| 終端機 | 需支援 ANSI | 顏色顯示必要條件 |

### 7.2 已知限制

1. **單人模式**：目前僅支援單人遊玩
2. **無持久化**：遊戲記錄不會保存
3. **固定難度**：4 位數字與 10 次機會固定
4. **語言單一**：僅支援繁體中文

### 7.3 風險管理

| 風險 | 影響 | 機率 | 緩解措施 |
|------|------|------|----------|
| 終端機不支援顏色 | 中 | 低 | 提供純文字降級方案 |
| 用戶不理解規則 | 高 | 中 | 強化規則說明與範例 |
| 遊戲過於簡單 | 中 | 中 | 未來版本增加難度選項 |

---

## 8. 開發時程規劃

### 8.1 里程碑

| 版本 | 目標 | 預計完成時間 | 狀態 |
|------|------|--------------|------|
| v1.0 | MVP 版本 | 2025-11-27 | ✅ 完成 |
| v1.1 | 錯誤修正與優化 | 2025-12 | 📋 計劃中 |
| v2.0 | 難度選擇、統計功能 | 2026-Q1 | 📋 計劃中 |
| v3.0 | 雙人模式、排行榜 | 2026-Q2 | 💡 構思中 |

### 8.2 版本 1.0 功能範圍

**包含功能**：
- ✅ 核心遊戲邏輯（F-001 至 F-005）
- ✅ 顏色輸出（F-101）
- ✅ 中斷處理（F-102）
- ✅ 輸入驗證
- ✅ 重玩機制

**不包含功能**：
- ❌ 難度選擇
- ❌ 遊戲統計
- ❌ 雙人模式
- ❌ 排行榜

---

## 9. 驗收標準

### 9.1 功能驗收

| 項目 | 驗收條件 | 狀態 |
|------|----------|------|
| 遊戲邏輯 | 100% 正確計算 A、B | ✅ |
| 輸入驗證 | 攔截所有無效輸入 | ✅ |
| 顏色顯示 | 在支援的終端機正確顯示 | ✅ |
| 中斷處理 | 不崩潰，優雅退出 | ✅ |
| 重玩功能 | 正確重置遊戲狀態 | ✅ |

### 9.2 品質驗收

| 項目 | 標準 | 狀態 |
|------|------|------|
| 程式碼覆蓋率 | ≥ 80% | 📋 待測試 |
| 文檔完整性 | 所有函式有說明 | ✅ |
| 效能測試 | 啟動 < 0.5 秒 | ✅ |
| 跨平台測試 | Win/Mac/Linux 皆可運行 | ✅ |

---

## 10. 上線準備

### 10.1 發布檢查清單

- [x] 核心功能開發完成
- [x] 程式碼審查通過
- [x] 基礎測試完成
- [x] README 文件撰寫
- [x] 規格書撰寫
- [ ] 單元測試撰寫
- [ ] 使用者測試
- [ ] 效能測試

### 10.2 發布通路

1. **GitHub**：開源發布，接受社群貢獻
2. **PyPI**：未來可考慮打包上傳（v2.0+）
3. **社群推廣**：Reddit、PTT、技術論壇

### 10.3 使用者支援

- **文件**：README.md 提供完整使用說明
- **範例**：spec.md 提供詳細技術規格
- **問題回報**：GitHub Issues
- **更新通知**：GitHub Releases

---

## 11. 成功案例與使用場景

### 11.1 使用場景

#### 場景 1：工作休息
> 阿傑是一名後端工程師，在等待 CI/CD 跑完的時候，他打開終端機玩一局 1A2B，既放鬆大腦又不需要切換工作環境。

#### 場景 2：學習範例
> 小美正在學習 Python，她下載了 1A2B 的原始碼，透過閱讀程式碼理解了函式設計、輸入驗證、錯誤處理等概念。

#### 場景 3：邏輯訓練
> 小明喜歡邏輯推理，每天午休時會玩幾局 1A2B 鍛鍊推理能力，他的最佳紀錄是 3 次猜中。

### 11.2 競品分析

| 產品 | 優勢 | 劣勢 |
|------|------|------|
| **線上網頁版 1A2B** | 介面精美 | 需要瀏覽器，不便於終端機使用者 |
| **手機 App** | 便攜性高 | 開發者較少使用手機 |
| **本產品** | 終端機原生、輕量、開源 | 介面相對簡單 |

---

## 12. 附錄

### 12.1 術語表

| 術語 | 定義 |
|------|------|
| 1A2B | 數字和位置都正確的數量為 A，數字正確但位置錯誤的數量為 B |
| Bulls and Cows | 1A2B 的英文名稱 |
| CLI | Command Line Interface，命令列介面 |
| ANSI | 終端機顏色代碼標準 |

### 12.2 參考資料

- [1A2B 遊戲規則](https://zh.wikipedia.org/wiki/猜數字)
- [Python 官方文件](https://docs.python.org/3/)
- [ANSI 顏色代碼](https://en.wikipedia.org/wiki/ANSI_escape_code)

### 12.3 相關文件

- **技術規格書**：`spec.md` - 完整的技術實作規格
- **使用者手冊**：`README.md` - 安裝與使用說明
- **原始碼**：`1a2b.py` - 主程式檔案

---

## 文件核准

| 角色 | 姓名 | 簽核 | 日期 |
|------|------|------|------|
| 產品負責人 | 1A2B Dev Team | ✅ | 2025-11-27 |
| 技術負責人 | 1A2B Dev Team | ✅ | 2025-11-27 |
| 專案經理 | 1A2B Dev Team | ✅ | 2025-11-27 |

**文件狀態**：✅ 已核准，可進行開發

---

*最後更新：2025-11-27*  
*版本：1.0.0*  
*下次審閱：v1.1 版本發布前*

